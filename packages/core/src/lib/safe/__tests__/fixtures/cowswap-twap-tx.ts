import type { SafeTransaction } from "@/lib/types";

/**
 * Hardcoded Safe transaction fixture: CowSwap TWAP sell order
 *
 * Transaction: 0x8bcba9ed52545bdc89eebc015757cda83c2468d3f225cea01c2a844b8a15cf17
 * Safe: 0x9fC3dc011b461664c835F2527fffb1169b3C213e (3-of-5 multisig, Ethereum Mainnet)
 *
 * This is a multiSend delegatecall that:
 *   1. Approves 5000 WETH to the CoW Protocol Vault Relayer
 *   2. Creates a TWAP order via the CoW Protocol Composable Order Framework
 *      selling WETH for DAI in 12 parts over 12 hours
 *
 * Data is hardcoded from the Safe Transaction Service API snapshot taken 2026-02-03
 * so tests remain stable even if the Safe's signers or state change.
 */
export const COWSWAP_TWAP_TX: SafeTransaction = {
  safe: "0x9fC3dc011b461664c835F2527fffb1169b3C213e",
  to: "0x9641d764fc13c8B624c04430C7356C1C7C8102e2", // MultiSend 1.4.1
  value: "0",
  data: "0x8d80ff0a0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000035200c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000c92e8bdf79f0507f65a392b0ab4667716bfe011000000000000000000000000000000000000000000000010f0cf064dd5920000000fdafc9d1902f4e0b84f65f49f244b32b31013b74000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002640d0d9800000000000000000000000000000000000000000000000000000000000000008000000000000000000000000052ed56da04309aca4c3fecc595298d80c2f16bac000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000010000000000000000000000006cf1e9ca41f7611def408122793c358a3d11e5a500000000000000000000000000000000000000000000000000000019c22477d600000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000140000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000006b175474e89094c44da98b954eedeac495271d0f0000000000000000000000009fc3dc011b461664c835f2527fffb1169b3c213e00000000000000000000000000000000000000000000001696695dbd1cc2aaaa00000000000000000000000000000000000000000000c65f6c4fd1b2f727dfd50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000e100000000000000000000000000000000000000000000000000000000000000000467b8e35af8061cbb14795fa7844c1f01183c9666376e240cfe16e76b7d1374100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
  operation: 1, // DelegateCall
  gasToken: "0x0000000000000000000000000000000000000000",
  safeTxGas: "0",
  baseGas: "0",
  gasPrice: "0",
  refundReceiver: "0x0000000000000000000000000000000000000000",
  nonce: 28,
  executionDate: null,
  submissionDate: "2026-02-03T06:55:09.646390Z",
  modified: "2026-02-03T06:55:09.701766Z",
  blockNumber: null,
  transactionHash: null,
  safeTxHash:
    "0x8bcba9ed52545bdc89eebc015757cda83c2468d3f225cea01c2a844b8a15cf17",
  executor: null,
  isExecuted: false,
  isSuccessful: null,
  ethGasPrice: null,
  maxFeePerGas: null,
  maxPriorityFeePerGas: null,
  gasUsed: null,
  fee: null,
  origin:
    '{"url": "https://swap.cow.fi", "name": "CoW Swap", "note": null}',
  dataDecoded: {
    method: "multiSend",
    parameters: [
      {
        name: "transactions",
        type: "bytes",
        value:
          "0x00c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000c92e8bdf79f0507f65a392b0ab4667716bfe011000000000000000000000000000000000000000000000010f0cf064dd5920000000fdafc9d1902f4e0b84f65f49f244b32b31013b74000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002640d0d9800000000000000000000000000000000000000000000000000000000000000008000000000000000000000000052ed56da04309aca4c3fecc595298d80c2f16bac000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000010000000000000000000000006cf1e9ca41f7611def408122793c358a3d11e5a500000000000000000000000000000000000000000000000000000019c22477d600000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000140000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000006b175474e89094c44da98b954eedeac495271d0f0000000000000000000000009fc3dc011b461664c835f2527fffb1169b3c213e00000000000000000000000000000000000000000000001696695dbd1cc2aaaa00000000000000000000000000000000000000000000c65f6c4fd1b2f727dfd50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000e100000000000000000000000000000000000000000000000000000000000000000467b8e35af8061cbb14795fa7844c1f01183c9666376e240cfe16e76b7d137410000000000000000000000000000000000000000000000000000000000000000",
        valueDecoded: [
          {
            operation: 0,
            to: "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
            value: "0",
            data: "0x095ea7b3000000000000000000000000c92e8bdf79f0507f65a392b0ab4667716bfe011000000000000000000000000000000000000000000000010f0cf064dd59200000",
            dataDecoded: {
              method: "approve",
              parameters: [
                {
                  name: "guy",
                  type: "address",
                  value: "0xC92E8bdf79f0507f65a392b0ab4667716BFE0110",
                },
                {
                  name: "wad",
                  type: "uint256",
                  value: "5000000000000000000000",
                },
              ],
            },
          },
          {
            operation: 0,
            to: "0xfdaFc9d1902f4e0b84f65F49f244b32b31013b74",
            value: "0",
            data: "0x0d0d9800000000000000000000000000000000000000000000000000000000000000008000000000000000000000000052ed56da04309aca4c3fecc595298d80c2f16bac000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000000010000000000000000000000006cf1e9ca41f7611def408122793c358a3d11e5a500000000000000000000000000000000000000000000000000000019c22477d600000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000140000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000006b175474e89094c44da98b954eedeac495271d0f0000000000000000000000009fc3dc011b461664c835f2527fffb1169b3c213e00000000000000000000000000000000000000000000001696695dbd1cc2aaaa00000000000000000000000000000000000000000000c65f6c4fd1b2f727dfd50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000e100000000000000000000000000000000000000000000000000000000000000000467b8e35af8061cbb14795fa7844c1f01183c9666376e240cfe16e76b7d13741",
            dataDecoded: {
              method: "createWithContext",
              parameters: [
                {
                  name: "params",
                  type: "(address,bytes32,bytes)",
                  value: [
                    "0x6cF1e9cA41f7611dEf408122793c358a3d11E5a5",
                    "0x00000000000000000000000000000000000000000000000000000019c22477d6",
                    "0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000006b175474e89094c44da98b954eedeac495271d0f0000000000000000000000009fc3dc011b461664c835f2527fffb1169b3c213e00000000000000000000000000000000000000000000001696695dbd1cc2aaaa00000000000000000000000000000000000000000000c65f6c4fd1b2f727dfd50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000e100000000000000000000000000000000000000000000000000000000000000000467b8e35af8061cbb14795fa7844c1f01183c9666376e240cfe16e76b7d13741",
                  ],
                },
                {
                  name: "factory",
                  type: "address",
                  value: "0x52eD56Da04309Aca4c3FECC595298d80C2f16BAc",
                },
                {
                  name: "data",
                  type: "bytes",
                  value: "0x",
                },
                {
                  name: "dispatch",
                  type: "bool",
                  value: "True",
                },
              ],
            },
          },
        ],
      },
    ],
  },
  confirmationsRequired: 3,
  confirmations: [
    {
      owner: "0xd779332c5A52566Dada11A075a735b18DAa6c1f4",
      submissionDate: "2026-02-03T06:55:09.701766Z",
      transactionHash: null,
      signature:
        "0xbbc0804073d15f0b50c4fee3bcd292da12fbd9565bd52f3b1a20e6bc27517e95371ae666b9a2199cbdb64b1e8d338111f67460a3cd75c2300f92d1eb97a0a9ef1b",
      signatureType: "EOA",
    },
  ],
  trusted: true,
  signatures: null,
};

/** Chain ID for the fixture transaction */
export const CHAIN_ID = 1;

/** Expected Safe tx hash for the fixture transaction */
export const EXPECTED_SAFE_TX_HASH =
  "0x8bcba9ed52545bdc89eebc015757cda83c2468d3f225cea01c2a844b8a15cf17";

/** The Safe transaction URL */
export const TX_URL =
  "https://app.safe.global/transactions/tx?safe=eth:0x9fC3dc011b461664c835F2527fffb1169b3C213e&id=multisig_0x9fC3dc011b461664c835F2527fffb1169b3C213e_0x8bcba9ed52545bdc89eebc015757cda83c2468d3f225cea01c2a844b8a15cf17";

/** Well-known contract addresses used in this transaction */
export const KNOWN_ADDRESSES = {
  safe: "0x9fC3dc011b461664c835F2527fffb1169b3C213e",
  multiSend: "0x9641d764fc13c8B624c04430C7356C1C7C8102e2",
  weth: "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
  dai: "0x6B175474E89094C44Da98b954EedeAC495271d0F",
  cowVaultRelayer: "0xC92E8bdf79f0507f65a392b0ab4667716BFE0110",
  cowComposableOrderFramework: "0xfdaFc9d1902f4e0b84f65F49f244b32b31013b74",
  cowTwapHandler: "0x6cF1e9cA41f7611dEf408122793c358a3d11E5a5",
  cowFactory: "0x52eD56Da04309Aca4c3FECC595298d80C2f16BAc",
} as const;
